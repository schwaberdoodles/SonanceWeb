<!DOCTYPE html>
<html>

  <head>
    <script data-require="jquery@2.1.3" data-semver="2.1.3" src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script data-require="knockout@3.3.0" data-semver="3.3.0" src="http://cdnjs.cloudflare.com/ajax/libs/knockout/3.3.0/knockout-min.js"></script>
    <style>
        body { width: 320px }
        .control-panel { background: border-box; background-color: white; }
        .zone { }
    </style>
  </head>

  <body>

    <header>
        Sonance
    </header>

        <nav>
        <ul>
            <li><a href="#VolumeTab" id="VolumeTab">Volume</a></li>
            <li><a href="#SourceTab" id="SourceTab">Source</a></li>
            <li><a href="#PowerTab" id="PowerTab">Power</a></li>
            <!-- TBD -->
            <!-- <li>EQ</li> -->
            <!-- <li>Tuner</li> -->
        </ul>
            <script language="javascript">
                $( "#VolumeTab" ).click(function() {
                    $('#volume-controls').show();
                    $('#power-controls').hide();
                    $('#source-controls').hide();
                });
                $( "#SourceTab" ).click(function() {
                    $('#volume-controls').hide();
                    $('#power-controls').hide();
                    $('#source-controls').show();
                });
                $( "#PowerTab" ).click(function() {
                    $('#volume-controls').hide();
                    $('#power-controls').show();
                    $('#source-controls').hide();
                });

            </script>

        </nav>

    <zones>
        <!-- Volume Controls -->
        <div class="control-panel" id="volume-controls">
            <div class="zone" id="zone1" control="volume">
                Zone 1 <input name="zone1.volume" type="range" min="0" max="40" value="10"/>
            </div>
            <p>
            <div class="zone" id="zone2" control="volume">
                Zone 2
                <input name="zone2.volume" type="range" min="0" max="40" value="10"/>
            </div>
            <p>
            <div class="zone" id="zone3" control="volume">
                Zone 3
                <input name="zone3.volume" type="range" min="0" max="40" value="10"/>
            </div>
        </div>

        <!-- Source Controls -->
        <div class="control-panel" id="source-controls">
            <p>
            <div class="zone" id="zone1" control="source">
                Zone 1
                <select name="zone1.source" value="2">
                    <option value="1">Tuner</option>
                    <option value="2">Airport</option>
                    <option value="3">Movie</option>
                    <option value="4">N/A</option>
                </select>
            </div>
            </p>
            <p>
            <div class="zone" id="zone2" control="source">
                Zone 2
                <select name="zone2.source" value="2">
                    <option value="1">Tuner</option>
                    <option value="2">Airport</option>
                    <option value="3">Movie</option>
                    <option value="4">N/A</option>
                </select>
            </div>
            </p>
            <p>
            <div class="zone" id="zone3" control="source">
                Zone 3
                <select name="zone3.source" value="2">
                    <option value="1">Tuner</option>
                    <option value="2">Airport</option>
                    <option value="3">Movie</option>
                    <option value="4">N/A</option>
                </select>
            </div>
            </p>
        </div>


        <!-- Power Controls -->
        <div class="control-panel" id="power-controls">
            <p>
            <div class="zone" id="zone1" control="power">
                Zone 1
                <input name="zone1.power" type="range" min="0" max="1" value="1"/>
            </div>
            </p>
            <p>
            <div class="zone" id="zone2" control="power">
                Zone 2
                <input name="zone2.power" type="range" min="0" max="1" value="1"/>
            </div>
            </p>
            <p>
            <div class="zone" id="zone3" control="power">
                Zone 3
                <input name="zone3.power" type="range" min="0" max="1" value="1"/>
            </div>
            </p>
        </div>
    </zones>

    <div class="toc">
    </div>

    <!-- Zones -->
    <div class="control-panel" id="power-controls" data-bind="foreach: { data: zones, as: 'z'}>
        <p>
        <div class="zone" control="power">
            <span data-bind="text: z.zone"></span>
            <input name="zone1.power" type="range" min="0" max="1" value="1" data-bind="value: z.volume"/>
        </div>
        </p>
    </div>

    <script language="javascript">
              
      function AppViewModel() {
          var self = this;
          this.zones = [{"volume": "32", "source": "2", "power": "1", "zone": 1},
              {"volume": "10", "source": "2", "power": "0", "zone": 3},
              {"volume": "20", "source": "1", "power": "0", "zone": 2},
              {"volume": "20", "source": "2", "power": "0", "zone": 4},
              {"volume": "10", "source": "2", "power": "0", "zone": 5},
              {"volume": "20", "source": "1", "power": "0", "zone": 6}
              ];
      }

      // Activates knockout.js
      ko.applyBindings(new AppViewModel());              

    </script>
    
    
  </body>

</html>
